@page "/centro-ayuda"
@rendermode InteractiveServer
@using P1F_TecnoPartes.Components.Pages.LandingPages.Components
@inject IJSRuntime JSRuntime

<PageTitle>Centro de Ayuda - TecnoPartes</PageTitle>

<HeadContent>
    <meta name="description" content="Encuentra ayuda y soporte para todos tus productos TecnoPartes. Preguntas frecuentes, guías de uso y contacto directo.">
    <link href="./css/variables.css" rel="stylesheet" />
    <link href="./css/landing/landing.css" rel="stylesheet" />
    <link href="./css/landing/header.css" rel="stylesheet" />
    <link href="./css/landing/footer.css" rel="stylesheet" />
    <link href="./css/support/centro-ayuda.css" rel="stylesheet" />
</HeadContent>

<LandingHeader />

<main role="main" id="main-content">
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="hero-content">
                <h1>Centro de Ayuda</h1>
                <p>Encuentra respuestas rápidas a tus preguntas más frecuentes</p>
                <div class="search-box">
                    <input type="text" placeholder="Buscar ayuda..." />
                    <button type="button">
                        <i class="bi bi-search"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories-section">
        <div class="container">
            <h2>Categorías de Ayuda</h2>
            <div class="categories-grid">
                <div class="category-card">
                    <div class="category-icon">
                        <i class="bi bi-cart-check"></i>
                    </div>
                    <h3>Compras y Pedidos</h3>
                    <p>Información sobre compras, seguimiento y métodos de pago</p>
                    <button class="btn-primary help-modal-btn" data-modal="modal-compras">Ver Más</button>
                </div>

                <div class="category-card">
                    <div class="category-icon">
                        <i class="bi bi-truck"></i>
                    </div>
                    <h3>Envíos y Entrega</h3>
                    <p>Tiempos de entrega, costos de envío y opciones de delivery</p>
                    <button class="btn-primary help-modal-btn" data-modal="modal-envios">Ver Más</button>
                </div>

                <div class="category-card">
                    <div class="category-icon">
                        <i class="bi bi-arrow-repeat"></i>
                    </div>
                    <h3>Devoluciones</h3>
                    <p>Políticas de devolución, cambios y garantías</p>
                    <button class="btn-primary help-modal-btn" data-modal="modal-devoluciones">Ver Más</button>
                </div>

                <div class="category-card">
                    <div class="category-icon">
                        <i class="bi bi-headset"></i>
                    </div>
                    <h3>Soporte Técnico</h3>
                    <p>Ayuda técnica y contacto directo</p>
                    <button class="btn-primary help-modal-btn" data-modal="modal-soporte">Ver Más</button>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
        <div class="container">
            <h2>Preguntas Frecuentes</h2>
            <div class="faq-list">
                <div class="faq-item">
                    <div class="faq-question">
                        <h4>¿Cuánto tiempo tarda en llegar mi pedido?</h4>
                        <i class="bi bi-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Los tiempos de entrega varían según tu ubicación y el método de envío seleccionado. En general, los pedidos se procesan en 1-2 días hábiles y el envío tarda entre 3-7 días hábiles para envío estándar.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <h4>¿Qué métodos de pago aceptan?</h4>
                        <i class="bi bi-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Aceptamos tarjetas de crédito y débito (Visa, MasterCard, American Express), transferencias bancarias, pagos en efectivo al momento de la entrega y billeteras digitales como PayPal.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <h4>¿Puedo cambiar o devolver un producto?</h4>
                        <i class="bi bi-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Sí, aceptamos cambios y devoluciones dentro de los 30 días posteriores a la compra, siempre que el producto esté en su empaque original y sin usar.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <h4>¿Ofrecen garantía en sus productos?</h4>
                        <i class="bi bi-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Todos nuestros productos incluyen garantía del fabricante. Además, ofrecemos garantía adicional de TecnoPartes en productos seleccionados.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <h4>¿Cómo puedo rastrear mi pedido?</h4>
                        <i class="bi bi-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Una vez que tu pedido sea enviado, recibirás un email con el número de seguimiento. También puedes rastrear tu pedido desde tu cuenta en la sección "Mis Pedidos".</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <h4>¿Tienen tienda física?</h4>
                        <i class="bi bi-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Sí, tenemos una tienda física ubicada en Av. Principal #1234. Puedes visitarnos para ver los productos en persona o recoger tus pedidos en la tienda.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section">
        <div class="container">
            <div class="contact-content">
                <h2>¿No encontraste lo que buscabas?</h2>
                <p>Nuestro equipo de soporte está disponible para ayudarte</p>
                <div class="contact-buttons">
                    <a href="/garantias" class="btn-primary">
                        <i class="bi bi-shield-check"></i>
                        Ver Garantías
                    </a>
                    <a href="/sobre-nosotros" class="btn-secondary">
                        <i class="bi bi-info-circle"></i>
                        Sobre Nosotros
                    </a>
                </div>
            </div>
        </div>
    </section>

    <LandingFooter />
</main>

<!-- Modales de Ayuda -->
<div id="modal-compras" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Compras y Pedidos</h3>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <h3>Proceso de Compra</h3>
            <p>Nuestro proceso de compra es simple y seguro:</p>
            <ul>
                <li>Selecciona los productos que deseas</li>
                <li>Agrega al carrito y revisa tu pedido</li>
                <li>Completa tus datos de envío</li>
                <li>Elige tu método de pago preferido</li>
                <li>Confirma tu compra</li>
            </ul>

            <h3>Métodos de Pago</h3>
            <p>Aceptamos los siguientes métodos de pago:</p>
            <ul>
                <li>Tarjetas de crédito y débito (Visa, MasterCard, American Express)</li>
                <li>Transferencias bancarias</li>
                <li>Pagos en efectivo al momento de la entrega</li>
                <li>Billeteras digitales (PayPal, MercadoPago)</li>
            </ul>

            <h3>Seguimiento de Pedidos</h3>
            <p>Una vez confirmado tu pedido, recibirás:</p>
            <ul>
                <li>Email de confirmación con número de pedido</li>
                <li>Actualizaciones sobre el estado de tu pedido</li>
                <li>Información de envío cuando esté disponible</li>
            </ul>
        </div>
    </div>
</div>

<div id="modal-envios" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Envíos y Entrega</h3>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <h3>Tiempos de Entrega</h3>
            <p>Nuestros tiempos de entrega estándar:</p>
            <ul>
                <li>Procesamiento: 1-2 días hábiles</li>
                <li>Envío estándar: 3-7 días hábiles</li>
                <li>Envío express: 1-3 días hábiles</li>
                <li>Recogida en tienda: Disponible inmediatamente</li>
            </ul>

            <h3>Costos de Envío</h3>
            <p>Calculamos los costos según:</p>
            <ul>
                <li>Peso y dimensiones del producto</li>
                <li>Distancia de envío</li>
                <li>Método de envío seleccionado</li>
                <li>Envío gratuito en compras superiores a $50,000</li>
            </ul>

            <h3>Opciones de Entrega</h3>
            <p>Ofrecemos múltiples opciones:</p>
            <ul>
                <li>Entrega a domicilio</li>
                <li>Recogida en tienda física</li>
                <li>Puntos de recogida autorizados</li>
                <li>Entrega programada</li>
            </ul>
        </div>
    </div>
</div>

<div id="modal-devoluciones" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Devoluciones</h3>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <h3>Política de Devoluciones</h3>
            <p>Aceptamos devoluciones dentro de los 30 días posteriores a la compra, siempre que:</p>
            <ul>
                <li>El producto esté en su empaque original</li>
                <li>No haya sido usado o dañado</li>
                <li>Incluya todos los accesorios y manuales</li>
                <li>Se presente el comprobante de compra</li>
            </ul>

            <h3>Proceso de Devolución</h3>
            <p>Para iniciar una devolución:</p>
            <ul>
                <li>Contacta nuestro servicio al cliente</li>
                <li>Proporciona el número de pedido</li>
                <li>Describe el motivo de la devolución</li>
                <li>Recibirás instrucciones de envío</li>
            </ul>

            <h3>Garantías</h3>
            <p>Todos nuestros productos incluyen:</p>
            <ul>
                <li>Garantía del fabricante</li>
                <li>Garantía adicional de TecnoPartes</li>
                <li>Soporte técnico especializado</li>
                <li>Reparación o reemplazo según corresponda</li>
            </ul>
        </div>
    </div>
</div>

<div id="modal-soporte" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Soporte Técnico</h3>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <h3>Canales de Contacto</h3>
            <p>Puedes contactarnos a través de:</p>
            <ul>
                <li>WhatsApp: +1 (809) 555-0123</li>
                <li>Email: soporte@tecnopartes.com</li>
                <li>Teléfono: +1 (809) 555-0124</li>
                <li>WhatsApp (disponible en horario comercial)</li>
            </ul>

            <h3>Horarios de Atención</h3>
            <p>Nuestro equipo está disponible:</p>
            <ul>
                <li>Lunes a Viernes: 8:00 AM - 6:00 PM</li>
                <li>Sábados: 9:00 AM - 2:00 PM</li>
                <li>Domingos: Cerrado</li>
                <li>Emergencias técnicas: 24/7</li>
            </ul>

            <h3>Servicios de Soporte</h3>
            <p>Ofrecemos los siguientes servicios:</p>
            <ul>
                <li>Asesoría técnica especializada</li>
                <li>Diagnóstico de problemas</li>
                <li>Instalación y configuración</li>
                <li>Mantenimiento preventivo</li>
                <li>Reparación de equipos</li>
            </ul>
        </div>
    </div>
</div>

<script src="/js/faq.js"></script>
<script src="/js/help-modals.js"></script>

<script>
// Script inline para debug y asegurar que funcione
document.addEventListener('DOMContentLoaded', function() {
    console.log('Script inline ejecutándose...');
    
    // Inicializar modales
    const modalButtons = document.querySelectorAll('.help-modal-btn');
    console.log('Botones encontrados (inline):', modalButtons.length);
    
    modalButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            const modalId = this.getAttribute('data-modal');
            console.log('Clic en botón, modal:', modalId);
            
            const modal = document.getElementById(modalId);
            if (modal) {
                console.log('Modal encontrado, abriendo...');
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Cerrar modal al hacer clic en overlay
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        modal.classList.remove('active');
                        document.body.style.overflow = '';
                    }
                });
                
                // Botón de cerrar
                const closeBtn = modal.querySelector('.modal-close');
                if (closeBtn) {
                    closeBtn.addEventListener('click', () => {
                        modal.classList.remove('active');
                        document.body.style.overflow = '';
                    });
                }
            } else {
                console.log('Modal no encontrado:', modalId);
            }
        });
    });
    
    // Cerrar con ESC
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            const modals = document.querySelectorAll('.modal-overlay');
            modals.forEach(modal => {
                modal.classList.remove('active');
            });
            document.body.style.overflow = '';
        }
    });
});
</script>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeVoidAsync("initializeFAQ");
            await JSRuntime.InvokeVoidAsync("initializeSearch");
            await JSRuntime.InvokeVoidAsync("initializeHelpModals");
        }
    }
} 